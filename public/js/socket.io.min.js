var io="undefined"===typeof module?{}:module.exports;
(function(){(function(g,b){g.version="0.9.11";g.protocol=1;g.transports=[];g.j=[];g.sockets={};g.connect=function(d,a){var f=g.util.parseUri(d),e,c;if(b&&b.location)f.protocol=f.protocol||b.location.protocol.slice(0,-1),f.host=f.host||(b.document?b.document.domain:b.location.hostname),f.port=f.port||b.location.port;e=g.util.uniqueUri(f);var h={host:f.host,secure:"https"==f.protocol,port:f.port||("https"==f.protocol?443:80),query:f.query||""};g.util.merge(h,a);if(h["force new connection"]||!g.sockets[e])c=
new g.Socket(h);!h["force new connection"]&&c&&(g.sockets[e]=c);c=c||g.sockets[e];return c.of(f.path.length>1?f.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(g,b){var d=g.util={},a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(",");
d.parseUri=function(c){for(var c=a.exec(c||""),h={},e=14;e--;)h[f[e]]=c[e]||"";return h};d.uniqueUri=function(c){var h=c.protocol,e=c.host,c=c.port;"document"in b?(e=e||document.domain,c=c||(h=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(e=e||"localhost",!c&&h=="https"&&(c=443));return(h||"http")+"://"+e+":"+(c||80)};d.query=function(c,e){var a=d.chunkQuery(c||""),f=[];d.merge(a,d.chunkQuery(e||""));for(var b in a)a.hasOwnProperty(b)&&f.push(b+"="+a[b]);return f.length?
"?"+f.join("&"):""};d.chunkQuery=function(c){for(var e={},c=c.split("&"),a=0,d=c.length,f;a<d;++a)f=c[a].split("="),f[0]&&(e[f[0]]=f[1]);return e};var e=!1;d.load=function(c){if("document"in b&&document.readyState==="complete"||e)return c();d.on(b,"load",c,!1)};d.on=function(c,e,a,f){c.attachEvent?c.attachEvent("on"+e,a):c.addEventListener&&c.addEventListener(e,a,f)};d.request=function(c){if(c&&"undefined"!=typeof XDomainRequest&&!d.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!c||d.ua.hasCORS))return new XMLHttpRequest;if(!c)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null};"undefined"!=typeof window&&d.load(function(){e=!0});d.defer=function(c){if(!d.ua.webkit||"undefined"!=typeof importScripts)return c();d.load(function(){setTimeout(c,100)})};d.merge=function(c,e,a,f){var f=f||[],a=typeof a=="undefined"?2:a,b;for(b in e)e.hasOwnProperty(b)&&d.indexOf(f,b)<0&&(typeof c[b]!=="object"||!a?(c[b]=e[b],f.push(e[b])):
d.merge(c[b],e[b],a-1,f));return c};d.mixin=function(c,e){d.merge(c.prototype,e.prototype)};d.inherit=function(c,e){function a(){}a.prototype=e.prototype;c.prototype=new a};d.isArray=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};d.intersect=function(c,e){for(var a=[],f=c.length>e.length?c:e,b=c.length>e.length?e:c,i=0,r=b.length;i<r;i++)~d.indexOf(f,b[i])&&a.push(b[i]);return a};d.indexOf=function(c,e,a){for(var f=c.length,a=a<0?a+f<0?0:a+f:a||0;a<f&&c[a]!==
e;a++);return f<=a?-1:a};d.toArray=function(c){for(var e=[],a=0,f=c.length;a<f;a++)e.push(c[a]);return e};d.ua={};d.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var c=new XMLHttpRequest}catch(e){return!1}return c.withCredentials!=void 0}();d.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);d.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function(g,b){function d(){}
g.EventEmitter=d;d.prototype.on=function(a,f){if(!this.$events)this.$events={};this.$events[a]?b.util.isArray(this.$events[a])?this.$events[a].push(f):this.$events[a]=[this.$events[a],f]:this.$events[a]=f;return this};d.prototype.addListener=d.prototype.on;d.prototype.once=function(a,f){function e(){c.removeListener(a,e);f.apply(this,arguments)}var c=this;e.listener=f;this.on(a,e);return this};d.prototype.removeListener=function(a,f){if(this.$events&&this.$events[a]){var e=this.$events[a];if(b.util.isArray(e)){for(var c=
-1,h=0,d=e.length;h<d;h++)if(e[h]===f||e[h].listener&&e[h].listener===f){c=h;break}if(c<0)return this;e.splice(c,1);e.length||delete this.$events[a]}else(e===f||e.listener&&e.listener===f)&&delete this.$events[a]}return this};d.prototype.removeAllListeners=function(a){if(a===void 0)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};d.prototype.listeners=function(a){if(!this.$events)this.$events={};this.$events[a]||(this.$events[a]=[]);b.util.isArray(this.$events[a])||
(this.$events[a]=[this.$events[a]]);return this.$events[a]};d.prototype.emit=function(a){if(!this.$events)return!1;var f=this.$events[a];if(!f)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof f)f.apply(this,e);else if(b.util.isArray(f))for(var f=f.slice(),c=0,h=f.length;c<h;c++)f[c].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(g,b){function d(c){return c<10?"0"+c:c}function a(c){h.lastIndex=
0;return h.test(c)?'"'+c.replace(h,function(c){var e=j[c];return typeof e==="string"?e:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function f(c,e){var h,b,j,g,q=k,o,l=e[c];l instanceof Date&&(l=isFinite(c.valueOf())?c.getUTCFullYear()+"-"+d(c.getUTCMonth()+1)+"-"+d(c.getUTCDate())+"T"+d(c.getUTCHours())+":"+d(c.getUTCMinutes())+":"+d(c.getUTCSeconds())+"Z":null);typeof i==="function"&&(l=i.call(e,c,l));switch(typeof l){case "string":return a(l);case "number":return isFinite(l)?
String(l):"null";case "boolean":case "null":return String(l);case "object":if(!l)return"null";k+=p;o=[];if(Object.prototype.toString.apply(l)==="[object Array]"){g=l.length;for(h=0;h<g;h+=1)o[h]=f(h,l)||"null";j=o.length===0?"[]":k?"[\n"+k+o.join(",\n"+k)+"\n"+q+"]":"["+o.join(",")+"]";k=q;return j}if(i&&typeof i==="object"){g=i.length;for(h=0;h<g;h+=1)typeof i[h]==="string"&&(b=i[h],(j=f(b,l))&&o.push(a(b)+(k?": ":":")+j))}else for(b in l)Object.prototype.hasOwnProperty.call(l,b)&&(j=f(b,l))&&o.push(a(b)+
(k?": ":":")+j);j=o.length===0?"{}":k?"{\n"+k+o.join(",\n"+k)+"\n"+q+"}":"{"+o.join(",")+"}";k=q;return j}}if(b&&b.parse)return g.JSON={parse:b.parse,stringify:b.stringify};var e=g.JSON={},c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,p,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',
"\\":"\\\\"},i;e.stringify=function(c,e,a){var h;p=k="";if(typeof a==="number")for(h=0;h<a;h+=1)p+=" ";else typeof a==="string"&&(p=a);if((i=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw Error("JSON.stringify");return f("",{"":c})};e.parse=function(e,a){function h(c,e){var f,b,d=c[e];if(d&&typeof d==="object")for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&(b=h(d,f),b!==void 0?d[f]=b:delete d[f]);return a.call(c,e,d)}var f,e=String(e);c.lastIndex=0;c.test(e)&&
(e=e.replace(c,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+e+")"),typeof a==="function"?h({"":f},""):f;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,typeof JSON!=="undefined"?JSON:void 0);(function(g,b){var d=g.parser={},a=d.packets=
"disconnect,connect,heartbeat,message,json,event,ack,error,noop".split(","),f=d.reasons=["transport not supported","client not handshaken","unauthorized"],e=d.advice=["reconnect"],c=b.JSON,h=b.util.indexOf;d.encodePacket=function(b){var d=h(a,b.type),k=b.id||"",g=b.endpoint||"",n=b.ack,m=null;switch(b.type){case "error":var s=b.reason?h(f,b.reason):"",b=b.advice?h(e,b.advice):"";if(s!==""||b!=="")m=s+(b!==""?"+"+b:"");break;case "message":if(b.data!=="")m=b.data;break;case "event":m={name:b.name};
if(b.args&&b.args.length)m.args=b.args;m=c.stringify(m);break;case "json":m=c.stringify(b.data);break;case "connect":if(b.qs)m=b.qs;break;case "ack":m=b.ackId+(b.args&&b.args.length?"+"+c.stringify(b.args):"")}d=[d,k+(n=="data"?"+":""),g];m!==null&&m!==void 0&&d.push(m);return d.join(":")};d.encodePayload=function(c){var e="";if(c.length==1)return c[0];for(var a=0,b=c.length;a<b;a++)e+="\ufffd"+c[a].length+"\ufffd"+c[a];return e};var k=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;d.decodePacket=
function(b){var h=b.match(k);if(!h)return{};var d=h[2]||"",b=h[5]||"",g={type:a[h[1]],endpoint:h[4]||""};if(d)g.id=d,g.ack=h[3]?"data":!0;switch(g.type){case "error":h=b.split("+");g.reason=f[h[0]]||"";g.advice=e[h[1]]||"";break;case "message":g.data=b||"";break;case "event":try{var n=c.parse(b);g.name=n.name;g.args=n.args}catch(m){}g.args=g.args||[];break;case "json":try{g.data=c.parse(b)}catch(s){}break;case "connect":g.qs=b||"";break;case "ack":if(h=b.match(/^([0-9]+)(\+)?(.*)/))if(g.ackId=h[1],
g.args=[],h[3])try{g.args=h[3]?c.parse(h[3]):[]}catch(t){}}return g};d.decodePayload=function(c){if(c.charAt(0)=="\ufffd"){for(var e=[],a=1,b="";a<c.length;a++)c.charAt(a)=="\ufffd"?(e.push(d.decodePacket(c.substr(a+1).substr(0,b))),a+=Number(b)+1,b=""):b+=c.charAt(a);return e}else return[d.decodePacket(c)]}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(g,b){function d(a,b){this.socket=a;this.sessid=b}g.Transport=d;b.util.mixin(d,b.EventEmitter);
d.prototype.heartbeats=function(){return!0};d.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(a!==""&&(a=b.parser.decodePayload(a))&&a.length)for(var f=0,e=a.length;f<e;f++)this.onPacket(a[f]);return this};d.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if(a.type=="heartbeat")return this.onHeartbeat();if(a.type=="connect"&&a.endpoint=="")this.onConnect();if(a.type=="error"&&
a.advice=="reconnect")this.isOpen=!1;this.socket.onPacket(a);return this};d.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};d.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};d.prototype.onConnect=function(){this.socket.onConnect();return this};d.prototype.clearCloseTimeout=function(){if(this.closeTimeout)clearTimeout(this.closeTimeout),
this.closeTimeout=null};d.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};d.prototype.packet=function(a){this.send(b.parser.encodePacket(a))};d.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};d.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};d.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};d.prototype.prepareUrl=function(){var a=this.socket.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+b.protocol+"/"+this.name+"/"+this.sessid};d.prototype.ready=function(a,b){b.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(g,b,d){function a(e){this.options={port:80,secure:!1,document:"document"in d?document:!1,resource:"socket.io",transports:b.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,
"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};b.util.merge(this.options,e);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||b.util.ua.hasCORS)){var c=this;b.util.on(d,"beforeunload",function(){c.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function f(){}
g.Socket=a;b.util.mixin(a,b.EventEmitter);a.prototype.of=function(e){this.namespaces[e]||(this.namespaces[e]=new b.SocketNamespace(this,e),e!==""&&this.namespaces[e].packet({type:"connect"}));return this.namespaces[e]};a.prototype.publish=function(){this.emit.apply(this,arguments);var e,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(e=this.of(c),e.$emit.apply(e,arguments))};a.prototype.handshake=function(e){function c(c){c instanceof Error?(a.connecting=!1,a.onError(c.message)):e.apply(null,
c.split(":"))}var a=this,d=this.options,d=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,b.protocol,b.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!b.util.ua.hasCORS){var g=document.getElementsByTagName("script")[0],j=document.createElement("script");j.src=d+"&jsonp="+b.j.length;g.parentNode.insertBefore(j,g);b.j.push(function(e){c(e);j.parentNode.removeChild(j)})}else{var i=b.util.request();i.open("GET",d,!0);if(this.isXDomain())i.withCredentials=!0;
i.onreadystatechange=function(){if(i.readyState==4)if(i.onreadystatechange=f,i.status==200)c(i.responseText);else if(i.status==403)a.onError(i.responseText);else a.connecting=!1,!a.reconnecting&&a.onError(i.responseText)};i.send(null)}};a.prototype.getTransport=function(e){for(var e=e||this.transports,c=0,a;a=e[c];c++)if(b.Transport[a]&&b.Transport[a].check(this)&&(!this.isXDomain()||b.Transport[a].xdomainCheck(this)))return new b.Transport[a](this,this.sessionid);return null};a.prototype.connect=
function(e){if(this.connecting)return this;var c=this;c.connecting=!0;this.handshake(function(a,d,f,g){function i(a){c.transport&&c.transport.clearTimeouts();c.transport=c.getTransport(a);if(!c.transport)return c.publish("connect_failed");c.transport.ready(c,function(){c.connecting=!0;c.publish("connecting",c.transport.name);c.transport.open();if(c.options["connect timeout"])c.connectTimeoutTimer=setTimeout(function(){if(!c.connected&&(c.connecting=!1,c.options["try multiple transports"])){for(var a=
c.transports;a.length>0&&a.splice(0,1)[0]!=c.transport.name;);a.length?i(a):c.publish("connect_failed")}},c.options["connect timeout"])})}c.sessionid=a;c.closeTimeout=f*1E3;c.heartbeatTimeout=d*1E3;if(!c.transports)c.transports=c.origTransports=g?b.util.intersect(g.split(","),c.options.transports):c.options.transports;c.setHeartbeatTimeout();i(c.transports);c.once("connect",function(){clearTimeout(c.connectTimeoutTimer);e&&typeof e=="function"&&e()})});return this};a.prototype.setHeartbeatTimeout=
function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};a.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};a.prototype.setBuffer=function(a){this.doBuffer=a;!a&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())};a.prototype.flushBuffer=function(){this.transport.payload(this.buffer);
this.buffer=[]};a.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};a.prototype.disconnectSync=function(){var a=b.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,b.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1);a.send(null);this.onDisconnect("booted")};a.prototype.isXDomain=function(){var a=
d.location.port||("https:"==d.location.protocol?443:80);return this.options.host!==d.location.hostname||this.options.port!=a};a.prototype.onConnect=function(){if(!this.connected)this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect")};a.prototype.onOpen=function(){this.open=!0};a.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};a.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};a.prototype.onError=function(a){if(a&&
a.advice&&a.advice==="reconnect"&&(this.connected||this.connecting))this.disconnect(),this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};a.prototype.onDisconnect=function(a){var c=this.connected,b=this.connecting;this.open=this.connecting=this.connected=!1;if(c||b)this.transport.close(),this.transport.clearTimeouts(),c&&(this.publish("disconnect",a),"booted"!=a&&this.options.reconnect&&!this.reconnecting&&this.reconnect())};a.prototype.reconnect=function(){function a(){if(b.connected){for(var e in b.namespaces)b.namespaces.hasOwnProperty(e)&&
""!==e&&b.namespaces[e].packet({type:"connect"});b.publish("reconnect",b.transport.name,b.reconnectionAttempts)}clearTimeout(b.reconnectionTimer);b.removeListener("connect_failed",c);b.removeListener("connect",c);b.reconnecting=!1;delete b.reconnectionAttempts;delete b.reconnectionDelay;delete b.reconnectionTimer;delete b.redoTransports;b.options["try multiple transports"]=f}function c(){if(b.reconnecting){if(b.connected)return a();if(b.connecting&&b.reconnecting)return b.reconnectionTimer=setTimeout(c,
1E3);b.reconnectionAttempts++>=d?b.redoTransports?(b.publish("reconnect_failed"),a()):(b.on("connect_failed",c),b.options["try multiple transports"]=!0,b.transports=b.origTransports,b.transport=b.getTransport(),b.redoTransports=!0,b.connect()):(b.reconnectionDelay<g&&(b.reconnectionDelay*=2),b.connect(),b.publish("reconnecting",b.reconnectionDelay,b.reconnectionAttempts),b.reconnectionTimer=setTimeout(c,b.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var b=this,d=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(c,this.reconnectionDelay);this.on("connect",c)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(g,b){function d(b,e){this.socket=b;this.name=e||"";this.flags={};this.json=new a(this,"json");this.ackPackets=
0;this.acks={}}function a(a,b){this.namespace=a;this.name=b}g.SocketNamespace=d;b.util.mixin(d,b.EventEmitter);d.prototype.$emit=b.EventEmitter.prototype.emit;d.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};d.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};d.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};if("function"==typeof b)c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b;return this.packet(c)};
d.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};if("function"==typeof c)d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1);d.args=b;return this.packet(d)};d.prototype.disconnect=function(){this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};d.prototype.onPacket=function(a){function e(){c.packet({type:"ack",args:b.util.toArray(arguments),ackId:a.id})}
var c=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(this.name==="")this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var d=["message",a.data];a.ack=="data"?d.push(e):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,d);break;case "event":d=[a.name].concat(a.args);a.ack=="data"&&d.push(e);this.$emit.apply(this,d);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else a.reason=="unauthorized"?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};a.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};a.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(g,b,d){function a(a){b.Transport.apply(this,arguments)}g.websocket=a;b.util.inherit(a,b.Transport);a.prototype.name="websocket";a.prototype.open=function(){var a=b.util.query(this.socket.options.query),e=this,c;c||(c=d.MozWebSocket||d.WebSocket);this.websocket=new c(this.prepareUrl()+a);this.websocket.onopen=function(){e.onOpen();e.socket.setBuffer(!1)};this.websocket.onmessage=function(a){e.onData(a.data)};this.websocket.onclose=function(){e.onClose();e.socket.setBuffer(!0)};this.websocket.onerror=
function(a){e.onError(a)};return this};a.prototype.send=b.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};a.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};a.prototype.close=function(){this.websocket.close();return this};a.prototype.onError=function(a){this.socket.onError(a)};a.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};a.check=
function(){return"WebSocket"in d&&!("__addTask"in WebSocket)||"MozWebSocket"in d};a.xdomainCheck=function(){return!0};b.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(g,b,d){function a(a){if(a)b.Transport.apply(this,arguments),this.sendBuffer=[]}function f(){}g.XHR=a;b.util.inherit(a,b.Transport);a.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};
a.prototype.payload=function(a){for(var c=[],d=0,f=a.length;d<f;d++)c.push(b.parser.encodePacket(a[d]));this.send(b.parser.encodePayload(c))};a.prototype.send=function(a){this.post(a);return this};a.prototype.post=function(a){function b(){if(this.readyState==4)if(this.onreadystatechange=f,g.posting=!1,this.status==200)g.socket.setBuffer(!1);else g.onClose()}function h(){this.onload=f;g.socket.setBuffer(!1)}var g=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");d.XDomainRequest&&this.sendXHR instanceof
XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=h:this.sendXHR.onreadystatechange=b;this.sendXHR.send(a)};a.prototype.close=function(){this.onClose();return this};a.prototype.request=function(a){var c=b.util.request(this.socket.isXDomain()),d=b.util.query(this.socket.options.query,"t="+ +new Date);c.open(a||"GET",this.prepareUrl()+d,!0);if(a=="POST")try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(f){}return c};a.prototype.scheme=
function(){return this.socket.options.secure?"https":"http"};a.check=function(a,c){try{var f=b.util.request(c),g=d.XDomainRequest&&f instanceof XDomainRequest,p=a&&a.options&&a.options.secure?"https:":"http:",j=d.location&&p!=d.location.protocol;if(f&&(!g||!j))return!0}catch(i){}return!1};a.xdomainCheck=function(b){return a.check(b,!0)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(g,b){function d(a){b.Transport.XHR.apply(this,
arguments)}g.htmlfile=d;b.util.inherit(d,b.Transport.XHR);d.prototype.name="htmlfile";d.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var d=this,a=b.util.query(this.socket.options.query,"t="+ +new Date);
this.iframe.src=this.prepareUrl()+a;b.util.on(window,"unload",function(){d.destroy()})};d.prototype._=function(a,b){this.onData(a);try{var d=b.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(c){}};d.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};d.prototype.close=function(){this.destroy();return b.Transport.XHR.prototype.close.call(this)};
d.check=function(a){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&b.Transport.XHR.check(a)}catch(d){}return!1};d.xdomainCheck=function(){return!1};b.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(g,b,d){function a(){b.Transport.XHR.apply(this,arguments)}function f(){}g["xhr-polling"]=a;b.util.inherit(a,
b.Transport.XHR);b.util.merge(a,b.Transport.XHR);a.prototype.name="xhr-polling";a.prototype.heartbeats=function(){return!1};a.prototype.open=function(){b.Transport.XHR.prototype.open.call(this);return!1};a.prototype.get=function(){function a(){if(this.readyState==4)if(this.onreadystatechange=f,this.status==200)g.onData(this.responseText),g.get();else g.onClose()}function b(){this.onerror=this.onload=f;g.retryCounter=1;g.onData(this.responseText);g.get()}function h(){g.retryCounter++;if(!g.retryCounter||
g.retryCounter>3)g.onClose();else g.get()}if(this.isOpen){var g=this;this.xhr=this.request();d.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=h):this.xhr.onreadystatechange=a;this.xhr.send(null)}};a.prototype.onClose=function(){b.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=f;try{this.xhr.abort()}catch(a){}this.xhr=null}};a.prototype.ready=function(a,c){var d=this;b.util.defer(function(){c.call(d)})};
b.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(g,b,d){function a(a){b.Transport["xhr-polling"].apply(this,arguments);this.index=b.j.length;var c=this;b.j.push(function(a){c._(a)})}var f=d.document&&"MozAppearance"in d.document.documentElement.style;g["jsonp-polling"]=a;b.util.inherit(a,b.Transport["xhr-polling"]);a.prototype.name="jsonp-polling";a.prototype.post=function(a){function c(){d();f.socket.setBuffer(!1)}
function d(){f.iframe&&f.form.removeChild(f.iframe);try{n=document.createElement('<iframe name="'+f.iframeId+'">')}catch(a){n=document.createElement("iframe"),n.name=f.iframeId}n.id=f.iframeId;f.form.appendChild(n);f.iframe=n}var f=this,g=b.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var j=document.createElement("form"),i=document.createElement("textarea"),r=this.iframeId="socketio_iframe_"+this.index,n;j.className="socketio";j.style.position="absolute";j.style.top=
"0px";j.style.left="0px";j.style.display="none";j.target=r;j.method="POST";j.setAttribute("accept-charset","utf-8");i.name="d";j.appendChild(i);document.body.appendChild(j);this.form=j;this.area=i}this.form.action=this.prepareUrl()+g;d();this.area.value=b.JSON.stringify(a);try{this.form.submit()}catch(m){}this.iframe.attachEvent?n.onreadystatechange=function(){f.iframe.readyState=="complete"&&c()}:this.iframe.onload=c;this.socket.setBuffer(!0)};a.prototype.get=function(){var a=this,c=document.createElement("script"),
d=b.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(this.script)this.script.parentNode.removeChild(this.script),this.script=null;c.async=!0;c.src=this.prepareUrl()+d;c.onerror=function(){a.onClose()};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);this.script=c;f&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};a.prototype._=function(a){this.onData(a);this.isOpen&&this.get();
return this};a.prototype.ready=function(a,c){var d=this;if(!f)return c.call(this);b.util.load(function(){c.call(d)})};a.check=function(){return"document"in d};a.xdomainCheck=function(){return!0};b.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);typeof define==="function"&&define.amd&&define([],function(){return io})})();
